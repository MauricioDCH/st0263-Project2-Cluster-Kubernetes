# COMANDOS EN INSTANCIA MASTER.

```bash
    1  exit
    2  sudo apt update && sudo apt upgrade -y
    3  microk8s status --wait-ready
    4  sudo usermod -a -G microk8s ubuntu
    5  sudo chown -R ubuntu ~/.kube
    6  microk8s status --wait-ready
    7  newgrp microk8s
    8  exit
    9  microk8s status --wait-ready
   10  history 
   11  clear
   12  microk8s add-node
   13  microk8s kubectl get no
   14  microk8s remove-node ip-172-31-29-85
   15  microk8s kubectl get no
   16  microk8s add-node
   17  microk8s kubectl get no
   18  microk8s enable helm3
   19  microk8s helm3 repo add csi-driver-nfs https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts
   20  microk8s helm3 repo update
   21  microk8s helm3 install csi-driver-nfs csi-driver-nfs/csi-driver-nfs     --namespace kube-system     --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet
   22  microk8s kubectl wait pod --selector app.kubernetes.io/name=csi-driver-nfs --for condition=ready --namespace kube-system
   23  microk8s kubectl get csidrivers
   24  microk8s kubectl get nodes
   25  microk8s kubectl apply -f sc-nfs.yaml
   26  cd /srv/
   27  ls
   28  mkdir -p ~/NFS-manifests
   29  ls
   30  ll
   31  cd /home/ubuntu/
   32  ls
   33  cd NFS-manifests/
   34  nano sc-nfs.yaml
   35  nano pvc-nfs.yaml
   36  microk8s kubectl apply -f ~/NFS-manifests/sc-nfs.yaml
   37  microk8s kubectl apply -f ~/NFS-manifests/pvc-nfs.yaml
   38  microk8s kubectl get storageclass
   39  microk8s kubectl get pvc
   40  microk8s kubectl get pods -n kube-system
   41  microk8s kubectl get pvc
   42  microk8s kubectl describe pvc my-pvc
   43  showmount -e
   44  sudo apt install nfs-common
   45  showmount -e
   46  microk8s kubectl describe pvc my-pvc
   47  showmount -e 172.31.28.85
   48  sudo systemctl status nfs-kernel-server
   49  sudo systemctl status rpcbind
   50  sudo systemctl status nfs-kernel-server
   51  sudo systemctl status rpcbind
   52  sudo apt update
   53  sudo apt install nfs-kernel-server
   54  sudo apt remove --purge nfs-kernel-server
   55  sudo apt remove --purge rpcbind
   56  sudo apt autoremove
   57  sudo nano /etc/exports
   58  showmount -e 172.31.28.85
   59  sudo apt update
   60  sudo apt install nfs-common
   61  which showmount
   62  showmount -e 172.31.28.85
   63  sudo rpcinfo -p
   64  ping 172.31.28.85
   65  showmount -e 172.31.28.85
   66  sudo apt update
   67  sudo apt install nfs-common
   68  sudo systemctl restart rpcbind
   69  telnet 172.31.28.85 2049
   70  nc -zv 172.31.28.85 2049
   71  sudo mount -t nfs 172.31.29.85:/srv/nfs /mnt
   72  ls -l /mnt
   73  mount | grep nfs
   74  touch /mnt/testfile.txt
   75  ls -l /mnt
   76  ls
   77  cd /mnt/
   78  ls
   79  touch otro.txt
   80  rm -r otro.txt testfile.txt 
   81  clear
   82  nano pvc-nfs.yaml 
   83  nano sc-nfs.yaml 
   84  clear
   85  cat sc-nfs.yaml 
   86  clear
   87  history 
   88  mkdir -p ~/k8s-wordpress/mysql
   89  mkdir -p ~/k8s-wordpress/wordpress
   90  cd /home/ubuntu/
   91  ls
   92  clear
   93  cd ~/k8s-wordpress/mysql
   94  touch mysql-pv.yaml
   95  touch mysql-pvc.yaml
   96  touch mysql-deployment.yaml
   97  touch mysql-service.yaml
   98  cd ../wordpress/
   99  touch wp-pv.yaml
  100  touch wp-pvc.yaml
  101  touch wp-deployment.yaml
  102  touch wp-service.yaml
  103  clear
  104  cd ../mysql/
  105  clear
  106  nano mysql-pv.yaml 
  107  nano mysql-deployment.yaml 
  108  nano mysql-service.yaml 
  109  kubectl apply -f mysql-pv.yaml
  110  kubectl apply -f . 
  111  sudo snap install kubectl
  112  sudo snap install kubectl --classic
  113  kubectl apply -f . 
  114  sudo apt install -y apt-transport-https ca-certificates curl
  115  clear
  116  kubectl cluster-info
  117  minikube start
  118  microk8s status --wait-ready
  119  microk8s enable dns dashboard storage
  120  microk8s kubectl cluster-info
  121  microk8s enable dns dashboard storage
  122  microk8s kubectl cluster-info
  123  microk8s kubectl apply -f mysql-deployment.yaml
  124  microk8s kubectl apply -f mysql-service.yaml
  125  microk8s kubectl apply -f mysql-pv.yaml
  126  microk8s kubectl apply -f mysql-pvc.yaml
  127  ls
  128  cat mysql-pvc.yaml
  129  nano mysql-pvc.yaml
  130  microk8s kubectl apply -f mysql-pvc.yaml
  131  microk8s kubectl get pods --all-namespaces
  132  cd ../wordpress/
  133  clear
  134  microk8s kubectl get pods --all-namespaces
  135  microk8s kubectl describe pod wordpress-mysql-b8f84b599-c9jwn
  136  microk8s kubectl get nodes
  137  cd ../mysql/
  138  ls
  139  nano mysql-deployment.yaml 
  140  cd ../wordpress/
  141  ls
  142  nano wp-pv.yaml 
  143  nano wp-pvc.yaml 
  144  nano wp-deployment.yaml 
  145  nano wp-service.yaml 
  146  microk8s kubectl apply -f wp-pv.yaml
  147  microk8s kubectl apply -f wp-pvc.yaml 
  148  microk8s kubectl apply -f wp-deployment.yaml 
  149  microk8s kubectl apply -f wp-service.yaml 
  150  microk8s kubectl get pods --all-namespaces
  151  microk8s kubectl get pvc --all-namespaces
  152  microk8s kubectl delete pvc my-pvc
  153  microk8s kubectl get pv
  154  microk8s kubectl logs wordpress-mysql-b8f84b599-c9jwn
  155  microk8s kubectl describe pod wordpress-mysql-b8f84b599-c9jwn
  156  clear
  157  microk8s kubectl get pvc --all-namespaces
  158  microk8s kubectl get pods --all-namespaces
  159  clear
  160  microk8s kubectl describe pod wordpress-mysql-b8f84b599-c9jwn
  161  microk8s kubectl delete pod wordpress-mysql-b8f84b599-c9jwn
  162  microk8s kubectl get pods
  163  microk8s kubectl get pvc --all-namespaces
  164  microk8s kubectl logs wordpress-5b94ffff88-gdmns
  165  microk8s kubectl describe pod wordpress-5b94ffff88-gdmns
  166  microk8s kubectl delete pod wordpress-5b94ffff88-gdmns
  167  clear
  168  nano wp-pv.yaml 
  169  microk8s kubectl apply -f .
  170  microk8s kubectl get pvc
  171  microk8s kubectl get pv
  172  microk8s kubectl get nodes
  173  microk8s kubectl get pods
  174  microk8s kubectl describe pod wordpress-5b94ffff88-h5dtf
  175  sudo mount -t nfs 172.31.29.85:/srv/nfs /mnt
  176  journalctl -u snap.microk8s.kubelet.service
  177  microk8s kubectl get pods
  178  sudo systemctl status snap.microk8s.kubelet.service
  179  microk8s status --wait-ready
  180  journalctl -u snap.microk8s.kubelet.service -f
  181  microk8s kubectl get pods
  182  microk8s kubectl describe pod wordpress-5b94ffff88-h5dtf
  183  microk8s kubectl get pv
  184  microk8s kubectl get pvc3
  185  microk8s kubectl get pvc
  186  clear
  187  microk8s kubectl get pods
  188  microk8s kubectl delete pod wordpress-5b94ffff88-h5dtf
  189  microk8s kubectl delete pods --all
  190  microk8s kubectl delete pvc --all
  191  microk8s kubectl delete pv --all
  192  microk8s kubectl get pods
  193  microk8s kubectl get pvc
  194  microk8s kubectl get pv
  195  microk8s kubectl delete pvc --all
  196  microk8s kubectl describe pvc mysql-pvc
  197  microk8s kubectl patch pvc mysql-pvc -p '{"metadata":{"finalizers":null}}'
  198  microk8s kubectl patch pvc wordpress-pvc -p '{"metadata":{"finalizers":null}}'
  199  microk8s kubectl patch pv mysql-pv -p '{"metadata":{"finalizers":null}}'
  200  microk8s kubectl patch pv wordpress-pv -p '{"metadata":{"finalizers":null}}'
  201  microk8s kubectl get pvc
  202  microk8s kubectl get pv
  203  microk8s kubectl get pvc
  204  microk8s kubectl get pv
  205  clear
  206  microk8s kubectl get pods
  207  microk8s kubectl delete pods --all
  208  microk8s kubectl get pods
  209  microk8s kubectl delete pod <nombre-del-pod> --grace-period=0 --force
  210  microk8s kubectl delete pod wordpress-5b94ffff88-f6xcq --grace-period=0 --force
  211  microk8s kubectl delete pod wordpress-mysql-b8f84b599-dfnh8 --grace-period=0 --force
  212  clear
  213  microk8s kubectl get pods
  214  clear
  215  cd ..
  216  ls
  217  ll
  218  cd ~/k8s-wordpress/mysql
  219  ll
  220  microk8s kubectl apply -f mysql-pv.yaml 
  221  microk8s kubectl apply -f mysql-pvc
  222  microk8s kubectl apply -f mysql-pvc.yaml 
  223  microk8s kubectl apply -f mysql-deployment.yaml 
  224  microk8s kubectl get pods
  225  cd ~/k8s-wordpress/wordpress
  226  microk8s kubectl apply -f wordpress-deployment.yaml
  227  microk8s kubectl apply -f wp-deployment.yaml 
  228  clear
  229  microk8s kubectl get pv
  230  microk8s kubectl get pvc
  231  microk8s kubectl get pods
  232  cd ../wordpress/
  233  microk8s kubectl apply -f wp-pv.yaml 
  234  microk8s kubectl apply -f wp-pvc.yaml 
  235  microk8s kubectl apply -f wp-deployment.yaml 
  236  microk8s kubectl apply -f wp-service.yaml 
  237  microk8s kubectl get pv
  238  microk8s kubectl get pvc
  239  nano wp-pv.yaml 
  240  ls
  241  nano wp-pv.yaml 
  242  nano wp-pvc.yaml 
  243  microk8s kubectl get pods
  244  microk8s kubectl get pv
  245  microk8s kubectl get pvc
  246  microk8s kubectl apply -f wp-pvc.yaml
  247  nano wp-pvc.yaml 
  248  microk8s kubectl apply -f wp-pvc.yaml
  249  microk8s kubectl delete pvc wordpress-pvc
  250  microk8s kubectl apply -f wp-pvc.yaml
  251  microk8s kubectl get pv
  252  microk8s kubectl get pvc
  253  nano wp-pv.yaml 
  254  nano wp-pvc.yamlm
  255  microk8s kubectl apply -f wp-pvc.yaml
  256  microk8s kubectl delete pvc wordpress-pvc
  257  microk8s kubectl apply -f wp-pvc.yaml
  258  microk8s kubectl get pv
  259  nano wp-pv.yaml 
  260  microk8s kubectl delete pv wordpress-pv
  261  microk8s kubectl apply -f wp-pv.yaml
  262  microk8s kubectl delete pv wordpress-pv
  263  microk8s kubectl apply -f wp-pv.yaml
  264  microk8s kubectl get pv
  265  ls
  266  rm wp-pvc.yamlm 
  267  ls
  268  nano wp-pvc.yaml 
  269  ls
  270  microk8s kubectl delete pvc wordpress-pvc
  271  microk8s kubectl delete pv wordpress-pv
  272  microk8s kubectl delete pvc wordpress-pvc
  273  microk8s kubectl delete pv wordpress-pv
  274  microk8s kubectl get pv
  275  microk8s kubectl apply -f wp-pv.yaml
  276  microk8s kubectl apply -f wp-pvc.yaml
  277  microk8s kubectl get pv
  278  nano wp-pvc.yaml 
  279  microk8s kubectl delete pvc wordpress-pvc
  280  microk8s kubectl apply -f wp-pvc.yaml
  281  microk8s kubectl get events
  282  microk8s kubectl get pv
  283  cd k8s-wordpress/
  284  ls
  285  clear
  286  cd wordpress/
  287  ls
  288  microk8s kubectl get pvc
  289  microk8s kubectl get pv
  290  microk8s kubectl get pods
  291  microk8s kubectl get pvc
  292  microk8s kubectl delete pvc wordpress-pvc
  293  microk8s kubectl delete pvc mysql-pvc
  294  microk8s kubectl delete pv
  295  microk8s kubectl get pv
  296  microk8s kubectl delete pv wordpress-pv 
  297  clear
  298  microk8s kubectl get pv
  299  microk8s kubectl get pvc
  300  nano wp-pv.yaml 
  301  nano wp-pvc.yaml 
  302  microk8s kubectl apply -f wp-pv.yaml
  303  microk8s kubectl get pv
  304  microk8s kubectl apply -f wp-pvc.yaml
  305  microk8s kubectl get pv
  306  microk8s kubectl get storageclass
  307  nano wp-pv.yaml 
  308  nano wp-pvc.yaml 
  309  microk8s kubectl apply -f wp-pv.yaml
  310  microk8s kubectl apply -f wp-pvc.yaml
  311  microk8s kubectl get pv
  312  microk8s kubectl get pvc
  313  clear
  314  microk8s kubectl get pods
  315  clear
  316  microk8s kubectl get pv
  317  microk8s kubectl get pvc
  318  microk8s kubectl get pods
  319  microk8s kubectl delete pod wordpress-5b94ffff88-cvpvb
  320  microk8s kubectl delete pod wordpress-mysql-b8f84b599-zpqjq
  321  microk8s kubectl delete deployment wordpress
  322  microk8s kubectl delete deployment mysql
  323  microk8s kubectl get pods
  324  microk8s kubectl delete pod wordpress-mysql-b8f84b599-7q42b 
  325  microk8s kubectl get pods
  326  cd ../mysql/
  327  ls
  328  nano mysql-deployment.yaml 
  329  microk8s kubectl get pvc
  330  microk8s kubectl get pv
  331  microk8s kubectl get pvc
  332  microk8s kubectl apply -f mysql-pvc.yaml 
  333  microk8s kubectl get pvc
  334  microk8s kubectl get pv
  335  microk8s kubectl delete pv mysql-pv 
  336  microk8s kubectl delete pvc mysql-pvc 
  337  microk8s kubectl apply -f mysql-pv.yaml 
  338  microk8s kubectl get pv
  339  microk8s kubectl apply -f mysql-pvc.yaml 
  340  microk8s kubectl get pv
  341  microk8s kubectl get pvc
  342  microk8s kubectl apply -f mysql-deployment.yaml 
  343  microk8s kubectl get pods
  344  microk8s kubectl delete pod wordpress-mysql-b8f84b599-n7tch 
  345  microk8s kubectl apply -f mysql-deployment.yaml 
  346  microk8s kubectl get pods
  347  cd ../wordpress/
  348  ls
  349  microk8s kubectl apply -f wp-deployment.yaml 
  350  microk8s kubectl get pods
  351  nano wp-deployment.yaml 
  352  microk8s kubectl get pods
  353  microk8s kubectl delete pod wordpress-5b94ffff88-rgp9k 
  354  microk8s kubectl delete pod wordpress-5b94ffff88-s5sh4 
  355  microk8s kubectl get pods
  356  nano wp-deployment.yaml 
  357  microk8s kubectl get pods
  358  microk8s kubectl describe pod wordpress-5b94ffff88-7hfts
  359  microk8s kubectl get pv
  360  microk8s kubectl get pvc
  361  microk8s kubectl delete pod wordpress-5b94ffff88-7hfts
  362  microk8s kubectl get pods
  363  showmount -e 172.31.29.85
  364  microk8s kubectl get pods
  365  LS
  366  ls
  367  cd ../mysql/
  368  ls
  369  microk8s kubectl apply -f mysql-service.yaml
  370  cd ../wordpress/
  371  microk8s kubectl apply -f wp-service.yaml
  372  microk8s kubectl get svc
  373  nano wp-service.yaml 
  374  microk8s kubectl apply -f wp-service.yaml
  375  microk8s kubectl get svc
  376  microk8s enable metallb
  377  microk8s kubectl get pods -n metallb-system
  378  microk8s kubectl get validatingwebhookconfiguration
  379  microk8s kubectl get services -n metallb-system
  380  cd ..
  381  mkdir metallb
  382  cd metallb/
  383  metallb-config.yaml
  384  nano metallb-config.yaml
  385  ip route | grep default
  386  nano metallb-config.yaml 
  387  microk8s kubectl apply -f metallb-config.yaml
  388  microk8s kubectl get namespaces
  389  microk8s kubectl get services -n metallb-system
  390  microk8s kubectl get services -n default
  391  microk8s kubectl get configmap config -n metallb-system -o yaml
  392  microk8s kubectl get pods -n metallb-system
  393  nano metallb-config.yaml 
  394  microk8s kubectl apply -f metallb-config.yaml
  395  microk8s kubectl get pods -n metallb-system
  396  microk8s kubectl get services -n default
  397  microk8s kubectl get pods
  398  microk8s kubectl logs wordpress-5b94ffff88-7b8pb -n default
  399  microk8s kubectl logs wordpress-5b94ffff88-9s7gg -n default
  400  curl http://172.31.28.100
  401  microk8s kubectl get services -n default
  402  microk8s kubectl get pods -n metallb-system
  403  microk8s kubectl describe service wordpress -n default
  404  microk8s kubectl exec -it wordpress-5b94ffff88-7b8pb -n default -- curl http://localhost:80
  405  microk8s kubectl logs -n metallb-system -l app=metallb,component=speaker
  406  microk8s kubectl get pods -n default
  407  microk8s kubectl exec -it <nombre-del-pod-wordpress> -n default -- mysql -h mysql -u usuario -p
  408  microk8s kubectl exec -it wordpress-5b94ffff88-7b8pb -n default -- mysql -h mysql -u usuario -p
  409  microk8s kubectl exec -it wordpress-mysql-b8f84b599-gst6r -n default -- bash
  410  clear
  411  microk8s kubectl delete pod -l app=wordpress -n default
  412  microk8s kubectl get pods -n default -w
  413  clear
  414  microk8s kubectl get pods -n default -w
  415  microk8s kubectl exec -it wordpress-5b94ffff88-k7ct5 -n default -- cat /var/www/html/wp-config.php
  416  microk8s status --wait-ready
  417  microk8s enable metallb
  418  microk8s kubectl get pods -n metallb-system
  419  microk8s kubectl get services
  420  ping 172.31.28.100
  421  microk8s kubectl get pods
  422  nano metallb-config.yaml 
  423  microk8s kubectl delete pods --all -n metallb-system
  424  microk8s kubectl get pods -n metallb-system
  425  ping 172.31.28.100
  426  nano metallb-config.yaml 
  427  microk8s kubectl apply -f metallb-config.yaml 
  428  microk8s kubectl get pods -n metallb-system
  429  microk8s kubectl get pods -o wide
  430  ping 172.31.28.100
  431  nano metallb-config.yaml 
  432  microk8s kubectl apply -f metallb-config.yaml 
  433  microk8s kubectl get pods -n metallb-system
  434  microk8s kubectl get pods -o wide
  435  microk8s kubectl delete pods --all -n metallb-system
  436  microk8s kubectl get pods -n metallb-system
  437  ip route
  438  ping 10.1.123.196  # IP del pod de MySQL
  439  microk8s kubectl logs -n metallb-system controller-7bc774c5f4-5b2p7
  440  microk8s kubectl get configmap -n metallb-system config -o yaml
  441  microk8s kubectl get svc -n wordpress
  442  microk8s kubectl get svc -n default
  443  ping 172.31.28.100
  444  microk8s kubectl logs -l app=wordpress
  445  microk8s kubectl get pods -n default
  446  microk8s kubectl get configmap -n metallb-system config -o yaml
  447  ip route
  448  sudo ufw status
  449  microk8s kubectl get services -n default
  450  ip addr
  451  microk8s kubectl get pods -n metallb-system
  452  curl http://172.31.28.100
  453  microk8s kubectl get pods
  454  microk8s kubectl logs wordpress-5b94ffff88-k
  455  microk8s kubectl logs wordpress-5b94ffff88-k7ct5 
  456  microk8s kubectl logs wordpress-5b94ffff88-tx7z2 
  457  microk8s kubectl describe service wordpress
  458  microk8s kubectl run -i --tty --rm debug --image=busybox -- sh
  459  curl http://wordpress:80
  460  microk8s kubectl delete pod wordpress-5b94ffff88-k7ct5 
  461  microk8s kubectl delete pod wordpress-5b94ffff88-tx7z2 
  462  microk8s kubectl get pods
  463  microk8s kubectl get pods --show-labels
  464  microk8s kubectl get endpoints wordpress
  465  curl http://10.1.0.4
  466  curl http://10.1.123.196:80
  467  curl http://10.1.189.9:80
  468  curl http://10.1.82.200:80
  469  microk8s kubectl run -i --tty --rm debug --image=busybox -- sh
  470  microk8s kubectl get configmap -n metallb-system config -o yaml
  471  curl http://172.31.28.100
  472  kubectl get pods
  473  microk8s kubectl get pods
  474  microk8s kubectl get svc
  475  microk8s kubectl describe svc wordpress
  476  microk8s kubectl logs wordpress-5b94ffff88-k6bzc
  477  microk8s kubectl get events --sort-by=.metadata.creationTimestamp
  478  microk8s kubectl exec -it wordpress-5b94ffff88-k6bzc -- /bin/bash
  479  microk8s kubectl logs wordpress-5b94ffff88-k6bzc
  480  microk8s kubectl get pods
  481  microk8s kubectl exec -it wordpress-5b94ffff88-k6bzc -- /bin/bash
  482  microk8s kubectl cp wordpress-5b94ffff88-k6bzc:/var/www/html/wp-config.php ./wp-config.php
  483  ks
  484  ls
  485  nano wp-config.php 
  486  microk8s kubectl cp ./wp-config.php wordpress-5b94ffff88-k6bzc:/var/www/html/wp-config.php
  487  microk8s kubectl cp wp-config.php wordpress-5b94ffff88-k6bzc:/var/www/html/wp-config.php
  488  microk8s kubectl exec -it wordpress-5b94ffff88-k6bzc -- /bin/bash
  489  microk8s kubectl cp ./wp-config.php wordpress-5b94ffff88-k6bzc:/var/www/html/wp-config.php
  490  microk8s kubectl edit deployment wordpress
  491  cd ../wordpress/
  492  ls
  493  nano wp-service.yaml 
  494  nano wp-deployment.yaml 
  495  microk8s kubectl get deployments
  496  microk8s kubectl delete deployment wordpress
  497  microk8s kubectl get deployments
  498  microk8s kubectl apply -f wp-deployment.yaml 
  499  microk8s kubectl get deployments
  500  microk8s kubectl get pod
  501  microk8s kubectl describe svc wordpress
  502  microk8s stop
  503  microk8s start
  504  microk8s kubectl describe svc wordpress
  505  microk8s kubectl get pod
  506  microk8s kubectl get pc
  507  microk8s kubectl get pv
  508  microk8s kubectl get pvc
  509  microk8s kubectl get pod
  510  ping 172.31.28.100
  511  microk8s kubectl get pods -n metallb-system
  512  microk8s kubectl get configmap -n metallb-system config -o yaml
  513  microk8s kubectl get services
  514  microk8s kubectl describe service wordpress
  515  cd ../metallb/
  516  ls
  517  nano metallb-config.yaml 
  518  microk8s kubectl apply -f metallb-config.yaml
  519  microk8s kubectl get configmap -n metallb-system
  520  microk8s kubectl describe configmap config -n metallb-system
  521  microk8s kubectl delete pods -n metallb-system --all
  522  microk8s kubectl get pods -n metallb-system
  523  microk8s kubectl get services
  524  microk8s kubectl logs wordpress
  525  microk8s kubectl logs wordpress-b68d69f7d-428dm 
  526  microk8s kubectl logs wordpress-b68d69f7d-xrtqx 
  527  microk8s kubectl logs -n metallb-system controller-7bc774c5f4-b8hzb 
  528  microk8s kubectl logs -n metallb-system speaker-8zwxg 
  529  microk8s kubectl exec -it wordpress-b68d69f7d-428dm -- /bin/bash
  530  microk8s kubectl logs -n metallb-system -l app=metallb
  531  microk8s kubectl get services -o wide
  532  microk8s kubectl exec -it wordpress-b68d69f7d-428dm -- /bin/bash
  533  microk8s kubectl get services -o wide
  534  cd ../
  535  ls
  536  cd wordpress/
  537  ls
  538  nano wp-service.yaml 
  539  microk8s kubectl delete service wordpress 
  540  kubectl apply -f wp-service.yaml 
  541  nano wp-service.yaml 
  542  microk8s status
  543  microk8s kubectl apply -f wp-service.yaml
  544  microk8s kubectl cluster-info
  545  microk8s kubectl get pv
  546  microk8s kubectl get pvc
  547  microk8s kubectl get pods
  548  microk8s kubectl get service
  549  microk8s kubectl get pods -n metallb-system
  550  microk8s kubectl describe configmap config -n metallb-system
  551  ping 172.31.28.100
  552  microk8s kubectl get svc -n default
  553  curl http://172.31.28.100
  554  microk8s kubectl get pods
  555  microk8s kubectl logs wordpress-b68d69f7d-428dm 
  556  microk8s kubectl logs wordpress-b68d69f7d-xrtqx 
  557  microk8s kubectl describe svc wordpress
  558  microk8s kubectl delete pod --all -n metallb-system
  559  microk8s kubectl port-forward svc/wordpress 8080:80
  560  microk8s kubectl get pod
  561  microk8s kubectl get pods -n default
  562  exit
  563  clear
  564  microk8s status --wait-ready
  565  ls
  566  microk8s enable metallb
  567  ls
  568  cd k8s-wordpress/metallb/
  569  ls
  570  clear
  571  ls
  572  rm wp-config.php 
  573  clear
  574  ls
  575  cat metallb-config.yaml 
  576  nano metallb-config.yaml 
  577  mv metallb-config.yaml addresspool.yaml
  578  ls
  579  microk8s kubectl apply -f addresspool.yaml
  580  clear
  581  rm addresspool.yaml 
  582  cd ..
  583  ls
  584  mv metallb/ ingress
  585  ls
  586  cd ingress/
  587  touch htt-ingress.yaml
  588  ls
  589  nano htt-ingress.yaml 
  590  cd ..
  591  ls
  592  cd wordpress/
  593  ls
  594  cat wp-deployment.yaml 
  595  cat wp-pv.yaml 
  596  cat wp-pvc.yaml 
  597  cat wp-service.yaml 
  598  nano wp-service.yaml 
  599  kubectl apply -f . 
  600  kubectl apply -f wp-service.yaml 
  601  clear
  602  cat wp-service.yaml 
  603  kubectl apply -f wp-service.yaml 
  604  cd ..
  605  cd ingress/
  606  kubectl apply -f htt-ingress.yaml 
  607  cat htt-ingress.yaml 
  608  microk8s enable ingress
  609  kubectl apply -f htt-ingress.yaml
  610  kubectl apply -f htt-ingress.yaml --validate=false
  611  microk8s status --wait-ready
  612  alias kubectl='microk8s kubectl'
  613  microk8s stop
  614  microk8s start
  615  microk8s kubectl config view --raw > ~/.kube/config
  616  microk8s enable ingress
  617  kubectl apply -f htt-ingress.yaml
  618  kubectl get ingress
  619  cd ../wordpress/
  620  cd ../ingress/
  621  ls
  622  cat htt-ingress.yaml 
  623  nano htt-ingress.yaml 
  624  kubectl apply -f htt-ingress.yaml
  625  kubectl get ingress
  626  microk8s enable ingress
  627  clear
  628  nano htt-ingress.yaml 
  629  kubectl apply -f htt-ingress.yaml
  630  nano htt-ingress.yaml 
  631  kubectl apply -f htt-ingress.yaml
  632  cat htt-ingress.yaml 
  633  kubectl get pv
  634  kubectl get pvc
  635  kubectl get svc
  636  kubectl get pods
  637  cd ../wordpress/
  638  ls
  639  kubectl apply -f wp-service.yaml 
  640  nano wp-service.yaml 
  641  kubectl apply -f wp-service.yaml 
  642  clear
  643  kubectl get svc
  644  kubectl get ingress
  645  clear
  646  kubectl get all -o wide
  647  kubectl pod delete wordpress-b68d69f7d-428dm
  648  kubectl delete pod wordpress-b68d69f7d-428dm
  649  kubectl get all -o wide
  650  cd ..
  651  ls
  652  clear
  653  kubectl get all -o wide
  654  clear
  655  ls
  656  history 
  667  clear
  668  ls
  669  cd ingress/
  670  ls
  671  cat htt-ingress.yaml 
  672  clear
  673  cd ../wordpress/
  674  ls
  675  clear
  676  ls
  677  cat wp-pv.yaml 
  678  cat wp-pvc.yaml 
  679  cat wp-deployment.yaml 
  680  cat wp-service.yaml 
  681  clear
  682  cd ../mysql/
  683  ls
  684  clear
  685  cat mysql-pv.yaml 
  686  cat mysql-pvc.yaml 
  687  cat mysql-deployment.yaml 
  688  cat mysql-service.yaml 
  689  exit
  690  cd
  691  ls
  692  cd k8s-wordpress/
  693  ls
  694  microk8s kubectl get pods -n=cert-manager
  695  microk8s kubectl get pods
  696  ls
  697  pwd
  698  mkdir ssl
  699  ls
  700  cd ssl/
  701  microk8s kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.8.0/cert-manager.crds.yaml
  702  microk8s kubectl create namespace cert-manager
  703  microk8s kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.8.0/cert-manager.yaml
  704  microk8s kubectl get pods -n=cert-manager
  705  microk8s kubectl logs -n cert-manager -l app=cert-manager
  706  microk8s kubectl get pods -n=cert-manager
  707  openssl genrsa -out letsencrypt-staging.pem 2048
  708  openssl genrsa -out letsencrypt-private-key.pem 2048
  709  ls
  710  sudo microk8s kubectl create secret generic letsencrypt-staging --from-file=letsencrypt-staging.pem
  711  microk8s kubectl create secret generic letsencrypt-private-key --from-file=letsencrypt-private-key.pem
  712  ls
  713  cd  .
  714  cd ..
  715  la
  716  ls mysql/
  717  exit
  718  clear
  719  ls
  720  24  microk8s kubectl get nodes
  721  microk8s kubectl get nodes
  722  microk8s kubectl get pvc
  723  microk8s kubectl get pv
  724  ls
  725  cd k8s-wordpress/
  726  ls
  727  clear
  728  ls
  729  cd mysql/
  730  ls
  731  microk8s kubectl apply -f mysql-pv.yaml 
  732  microk8s kubectl apply -f mysql-pvc.yaml 
  733  microk8s kubectl apply -f mysql-service.yaml 
  734  microk8s kubectl apply -f mysql-deployment.yaml 
  735  cd ../wordpress/
  736  ls
  737  microk8s kubectl apply -f wp-pv.yaml 
  738  microk8s kubectl apply -f wp-pvc.yaml 
  739  microk8s kubectl apply -f wp-service.yaml 
  740  microk8s kubectl apply -f wp-deployment.yaml.yaml 
  741  microk8s kubectl apply -f wp-deployment.yaml
  742  cd ../ingress/
  743  ls
  744  microk8s kubectl apply -f htt-ingress.yaml 
  745  ls
  746  cd ..
  747  ls
  748  cd ..
  749  ls
  750  cd NFS-manifests/
  751  ls
  752  microk8s kubectl apply -f pvc-nfs.yaml 
  753  microk8s kubectl apply -f sc-nfs.yaml 
  754  kubectl get all -o wide
  755  clear
  756  cd ..
  757  ls
  758  ll
  759  clear
  760  ls
  761  cd NFS-manifests/
  762  ls
  763  cd ..
  764  cd k8s-wordpress/
  765  ls
  766  cd ingress/
  767  ls
  768  cat htt-ingress.yaml 
  769  cd ..
  770  ls
  771  cd mysql/
  772  ls
  773  clear
  774  ll
  775  cat mysql-pv.yaml 
  776  microk8s kubectl get nodes
  777  clear
  778  microk8s kubectl get pods
  779  clear
  780  microk8s kubectl get pod
  781  clear
  782  cd ..
  783  microk8s kubectl get pv
  784  microk8s kubectl get service
  785  microk8s kubectl get pods --all-namespaces
  786  CLEAR
  787  clear
  788  kubectl get all -o wide
  789  clear
  790  ls
  791  cd ssl/
  792  ls
  793  microk8s kubectl get pods -n=cert-manager
  794  ls
  795  touch cluster-issuer.yaml
  796  touch cluster-issuer-staging.yaml
  797  touch ingress-routes.yaml
  798  ls
  799  mkdir yamls
  800  mv cluster-issuer* yamls/
  801  mv ingress-routes.yaml yamls/
  802  ls
  803  cd yamls/
  804  ls
  805  clear
  806  nano cluster-issuer.yaml 
  807  nano cluster-issuer-staging.yaml 
  808  microk8s kubectl apply -f cluster-issuer-staging.yaml
  809  microk8s kubectl apply -f cluster-issuer.yaml 
  810  microk8s kubectl get clusterissuer
  811  nano ingress-routes.yaml 
  812  microk8s kubectl apply -f ingress-routes.yaml
  813  microk8s kubectl get certificate
  814  nano ingress-routes.yaml 
  815  microk8s kubectl get certificate
  816  microk8s kubectl apply -f ingress-routes.yaml
  817  microk8s kubectl get certificate
  818  ls
  819  cat cluster-issuer.yaml 
  820  cat cluster-issuer-staging.yaml.yaml 
  821  cat cluster-issuer-staging.yaml
  822  clear
  823  ls
  824  cat ingress-routes.yaml 
  825  clear
  826  microk8s add-node
  827  microk8s kubectl get no
  828  clear
  829  cd ..
  830  ls
  831  cd ..
  832  ls
  833  clear
  834  cd mysql/
  835  ls
  836  mkdir no-HA
  837  mv mysql-* no-HA/
  838  ls
  839  mkdir with-HA
  840  ls
  841  cd with-HA/
  842  clear
  843  cd ..
  844  ls
  845  cp no-HA/mysql-pv* with-HA/
  846  ls
  847  cd  no-HA/
  848  ls
  849  cd ../with-HA/
  850  ls
  851  touch mysql-configmap.yaml
  852  touch mysql-statefulset.yaml
  853  ls
  854  touch mysql-services.yaml
  855  clear
  856  l
  857  cat mysql-pv.yaml 
  858  cat mysql-pvc.yaml 
  859  nano mysql-configmap.yaml 
  860  nano mysql-services.yaml 
  861  nano mysql-statefulset.yaml 
  862  kubectl get deployment
  863  kubectl delete wordpress-mysql
  864  kubectl delete deployment wordpress-mysql
  865  kubectl delete service mysql
  866  kubectl delete pvc mysql-pvc
  867  kubectl delete pv mysql-pv
  868  kubectl get deployments
  869  kubectl get services
  870  kubectl get pvc
  871  kubectl get pv
  872  clear
  873  kubectl apply -f mysql-pv.yaml 
  874  kubectl apply -f mysql-pvc.yaml 
  875  kubectl apply -f mysql-configmap.yaml 
  876  kubectl apply -f mysql-statefulset.yaml 
  877  kubectl apply -f mysql-services.yaml 
  878  kubectl get pods -l app=mysql --watch
  879  kubectl get pods
  880  kubectl get pv
  881  kubectl get pods -l app=mysql --watch
  882  kubectl describe pod mysql-0
  883  clear
  884  kubectl describe pod mysql-0
  885  clear
  886  kubectl get pods -l app=mysql --watch
  887  mysqladmin ping
  888  clear
  889  ls
  890  nano mysql-statefulset.yaml 
  891  kubectl apply -f mysql-statefulset.yaml 
  892  kubectl delete deployment wordpress-mysql
  893  kubectl get deployment
  894  kubectl get service
  895  kubectl d
  896  kubectl get deployment
  897  kubectl get service
  898  kubectl delete service mysql-read
  899  kubectl get service
  900  clear
  901  kubectl get pvc
  902  kubectl delete pvc mysql-pvc
  903  kubectl delete pvc data-mysql-0
  904  kubectl get pvc
  905  kubectl delete pvc data-mysql-0
  906  clear
  907  ls
  908  nano mysql-statefulset.yaml 
  909  kubectl apply -f mysql-statefulset.yaml 
  910  kubectl get pvc
  911  kubectl get pv
  912  kubectl delete pv pvc-7a5e2296-907c-477d-8dd0-505e9b9ebe08
  913  kubectl get pv
  914  kubectl get deployments
  915  kubectl get services
  916  kubectl get pvc
  917  kubectl get pv
  918  clear
  919  kubectl get pv
  920  kubectl delete pvc-7a5e2296-907c-477d-8dd0-505e9b9ebe08
  921  kubectl delete pv pvc-7a5e2296-907c-477d-8dd0-505e9b9ebe08
  922  exit
  923  clear
  924  kubectl get pods --watch
  925  clear
  926  exit
  927  clear
  928  ls
  929  cd k8s-wordpress/
  930  ls
  931  cd mysql/with-HA/
  932  ls
  933  clear
  934  ls
  935  rm mysql-pv*
  936  ls
  937  clear
  938  kubectl get deployments
  939  kubectl get services
  940  kubectl get pvc
  941  kubectl get pv
  942  kubectl delete pvc mysql-persistent-storage-wordpress-mysql-0
  943  kubectl delete pvc data-mysql-0
  944  kubectl get pv
  945  kubectl delete pv mysql-pv
  946  clear
  947  kubectl get pv
  948  kubectl get pvc
  949  kubectl edit pvc data-mysql-0
  950  kubectl delete pvc data
  951  kubectl get pvc
  952  kubectl edit pvc mysql-persistent-storage-wordpress-mysql-0
  953  kubectl get pvc
  954  kubectl delete pvc mysql-persistent-storage-wordpress-mysql-0
  955  kubectl get pvc
  956  kubectl edit pv pvc-7a5e2296-907c-477d-8dd0-505e9b9ebe08
  957  kubectl delete pvc data-mysql-0
  958  kubectl delete pv pvc-7a5e2296-907c-477d-8dd0-505e9b9ebe08
  959  clear
  960  kubectl get pvc
  961  kubectl get pv
  962  kubectl get pvc
  963  kubectl get pv
  964  clear
  965  nano mysql-configmap.yaml 
  966  kubectl apply -f configmap.yaml
  967  kubectl apply mysql-configmap.yaml
  968  kubectl apply -f mysql-configmap.yaml
  969  clear
  970  nano mysql-services.yaml 
  971  kubectl apply -f mysql-services.yaml 
  972  clear
  973  nano mysql-statefulset.yaml 
  974  kubectl apply -f mysql-statefulset.yaml 
  975  kubectl delete statefulset wordpress-mysql
  976  kubectl apply -f mysql-statefulset.yaml
  977  kubectl get all.pvc
  978  kubectl get pvc
  979  kubectl delete statefulset wordpress-mysql
  980  kubectl delete pvc data-wordpress-mysql-0
  981  kubectl get pvc
  982  kubectl delete pvc mysql-persistent-storage-wordpress-mysql-0
  983  kubectl get pvc
  984  kubectl delete pvc my-pvc
  985  kubectl get pvc
  986  kubectl get pv
  987  kubectl get pods
  988  ubectl delete pods mysql-0 
  989  kubectl delete pods mysql-0 
  990  kubectl get pods
  991  kubectl delete pods wordpress-b68d69f7d-zx57s 
  992  kubectl delete pods wordpress-b68d69f7d-*
  993  kubectl get pods -o name | grep -v "wordpress-b68d69f7d-rnbgh" | xargs kubectl delete
  994  clear
  995  kubectl get pods
  996  kubectl describe pod mysql-0
  997  kubectl get pvc
  998  cleart
  999  clear
 1000  kubectl describe pod mysql-0
 1001  clear
 1002  nano mysql-statefulset.yaml 
 1003  kubectl delete statefulset wordpress-mysql
 1004  kubectl get statefulset
 1005  kubectl delete statefulset mysql
 1006  kubectl apply -f mysql-statefulset.yaml
 1007  kubectl get pv
 1008  kubectl delete pv pvc-7177f65f-3f1
 1009  kubectl get pods
 1010  kubectl get pvc
 1011  kubectl delete pvc data-mysql-0 
 1012  kubectl get pv
 1013  kubectl delete pvc data-mysql-0 
 1014  kubectl get pvc
 1015  kubectl delete pvc data-wordpress-mysql-0
 1016  kubectl get pvc
 1017  kubectl get service
 1018  kubectl delete service mysql
 1019  kubectl delete service mysql-read
 1020  kubectl get service
 1021  kubectl get pvc
 1022  kubectl get pv
 1023  kubectl get service
 1024  kubectl apply -f . 
 1025  kubectl get service
 1026  kubectl get pv
 1027  ls
 1028  kubectl apply -f mysql-statefulset.yaml 
 1029  ls
 1030  clear
 1031  ls
 1032  kubectl apply -f mysql-configmap.yaml 
 1033  kubectl apply -f mysql-services.yaml 
 1034  kubectl apply -f mysql-statefulset.yaml 
 1035  kubectl get pods
 1036  kubectl get pod
 1037  kubectl get pv
 1038  kubectl get pvc
 1039  kubectl edit pvc data-wordpressmysql-0
 1040  kubectl edit pvc data-wordpress-mysql-0
 1041  kubectl delete pvc data-wordpress-mysql-0
 1042  clear
 1043  kubectl get pvc
 1044  kubectl get pv
 1045  kubectl apply -f mysql-statefulset.yaml 
 1046  kubectl get pv
 1047  kubectl get pvc
 1048  kubectl get pv
 1049  kubectl apply -f .
 1050  kubectl get pv
 1051  kubectl delete statefulset wordpress-mysql
 1052  kubectl get pv
 1053  kubectl get statefulset
 1054  kubectl get pv
 1055  clear
 1056  kubectl get pv
 1057  kubectl get pvc
 1058  kubectl delete pvc data-wordpress-mysql-0
 1059  kubectl get pv
 1060  kubectl get pvc
 1061  kubectl get service
 1062  kubectl delete service mysql
 1063  kubectl delete service mysql-read
 1064  kubectl get service
 1065  kubectl get pvc
 1066  kubectl get service
 1067  clear
 1068  kubectl get pods
 1069  kubectl apply -f mysql-configmap.yaml 
 1070  kubectl get configmap
 1071  kubectl delete configmap mysql
 1072  kubectl apply -f mysql-configmap.yaml
 1073  kubectl apply -f mysql-services.yaml 
 1074  kubectl apply -f mysql-statefulset.yaml 
 1075  kubectl get pods
 1076  history 
 1077  nano mysql-statefulset.yaml 
 1078  kubectl get pods
 1079  kubectl get pv
 1080  kubectl get pvc
 1081  kubectl delete pvc data-wordpress-mysql-0
 1082  kubectl get pvc
 1083  kubectl delete configmap mysql
 1084  kubectl apply -f mysql-statefulset.yaml kubectl delete service mysql
 1085  kubectl delete service mysql
 1086  kubectl delete pvc data-wordpress-mysql-0
 1087  kubectl apply -f mysql-configmap.yaml 
 1088  kubectl apply -f mysql-services.yaml 
 1089  kubectl apply -f mysql-statefulset.yaml 
 1090  kubectl get statefulset
 1091  kubectl get pods
 1092  kubectl get pv
 1093  kubectl get pvc
 1094  clear
 1095  kubectl get pv
 1096  kubectl get pvc
 1097  kubectl get service
 1098  kubectl get pods
 1099  kubectl get statefulset
 1100  kubectl logs wordpress-mysql-0
 1101  kubectl describe statefulset wordpress-mysql
 1102  kubectl get stateles
 1103  kubectl get statefulset
 1104  kubectl get pods
 1105  kubectl logs wordpress-mysql-0
 1106  kubectl exec -it wordpress-mysql-0 -- mysql -u root -p
 1107  clear
 1108  kubectl exec -it wordpress-mysql-0 -- mysql -u root -p
 1109  ls
 1110  kubectl exec -it wordpress-mysql-0 -- mysql -u root -p
 1111  clear
 1112  ls
 1113  nano mysql-statefulset.yaml 
 1114  kubectl get pods
 1115  kubectl delete pods wordpress-mysql-0
 1116  kubectl get pods
 1117  kubectl get statefulset
 1118  kubectl delete statefulset wordpress-mysql
 1119  kubectl get statefulset
 1120  kubectl get pods
 1121  kubectl get pv
 1122  kubectl delete pv wordpress-pv 
 1123  history 
 1124  kubectl edit pvc data-mysql-0
 1125  kubectl get pv
 1126  kubectl edit pv pvc-839d8b1c-ba16-40c8-b2d6-bd738eadf0e8
 1127  kubectl get pv
 1128  kubectl delete pv pvc-839d8b1c-ba16-40c8-b2d6-bd738eadf0e8
 1129  clear
 1130  kubectl get pvc
 1131  kubectl delete pvc mysql-persistent-storage-wordpress-mysql-0
 1132  kubectl get pvc
 1133  kubectl get pv
 1134  kubectl get 
 1135  kubectl get pv
 1136  kubectl get pods
 1137  kubectl get statefulset
 1138  clear
 1139  ls
 1140  kubectl get configmap
 1141  kubectl delete configmap mysql
 1142  kubectl get configmap
 1143  clear
 1144  cat mysql-configmap.yaml 
 1145  cat mysql-services.yaml 
 1146  cat mysql-statefulset.yaml 
 1147  clear
 1148  kubectl apply -f mysql-configmap.yaml 
 1149  kubectl apply -f mysql-services.yaml 
 1150  kubectl apply -f mysql-statefulset.yaml 
 1151  kubectl get pods
 1152  histoty
 1153  history 
 1154  kubectl get pods
 1155  kubectl get pv
 1156  kubectl get pvc
 1157  kubectl delete pvc data-wordpress-mysql-0
 1158  kubectl get pvc
 1159  kubectl get statefulset
 1160  kubectl delete statefulset wordpress-mysql
 1161  kubectl get statefulset
 1162  kubectl get pods -l app=mysql --watch
 1163  clear
 1164  kubectl apply -f mysql-statefulset.yaml 
 1165  kubectl apply -f mysql-services.yaml 
 1166  kubectl apply -f mysql-configmap.yaml 
 1167  kubectl apply -f mysql-statefulset.yaml 
 1168  clear
 1169  kubectl apply -f https://k8s.io/examples/application/mysql/mysql-services.yaml
 1170  kubectl apply -f https://k8s.io/examples/application/mysql/mysql-configmap.yaml
 1171  kubectl apply -f https://k8s.io/examples/application/mysql/mysql-statefulset.yam
 1172  kubectl get pods
 1173  kubectl run mysql-client --image=mysql:5.7 -i --rm --restart=Never --  mysql -h mysql-0.mysql <<EOFCREATE DATABASE test;
 1174  CREATE TABLE test.messages (message VARCHAR(250));
 1175  INSERT INTO test.messages VALUES ('hello');
 1176  EOF
 1177  kubectl run mysql-client --image=mysql:5.7 -i -t --rm --restart=Never --  mysql -h mysql-read -e "SELECT * FROM test.messages"
 1178  clear
 1179  kubectl get pods
 1180  kubectl delete pods wordpress-b68d69f7d-rnbgh
 1181  kubectl delete pods wordpress-b68d69f7d-ntchw
 1182  kubectl get pods
 1183  kubectl delete pods wordpress-b68d69f7d-5rqm8
 1184  kubectl delete pods wordpress-b68d69f7d-fv642
 1185  kubectl get pods
 1186  kubectl delete pods mysql-1 
 1187  kubectl get pods
 1188  kubectl logs mysql-1
 1189  kubectl describe pod mysql-1
 1190  kubectl delete pod mysql-1
 1191  kubectl get pod
 1192  kubectl delete pod mysql-1
 1193  clear
 1194  kubectl describe pod mysql-1
 1195  kubectl get pod
 1196  kubectl logs mysql-1
 1197  clear
 1198  kubectl logs mysql-1
 1199  mysqld --initialize --user=mysql
 1200  kubectl exec mysqld --initialize --user=mysql
 1201  kubectl exec -it mysql-1 -- /bin/bash
 1202  clear
 1203  kubectl logs mysql-1
 1204  kubectl get pods
 1205  kubectl delete pod mysql-1
 1206  kubectl exec -it mysql-1 -- rm -rf /var/lib/mysql/*
 1207  kubectl logs mysql-1
 1208  microk8s add-node
 1209  kubectl get pods
 1210  kubectl delete pod mysql-1
 1211  kubectl delete pod mysql-0
 1212  clear
 1213  kubectl get pods
 1214  kubectl delete pod mysql-1
 1215  kubectl logs mysql-1
 1216  kubectl get pod mysql-1
 1217  kubectl describe pod mysql-1
 1218  kubectl logs mysql-1 -c mysql
 1219  mysql_install_db --user=mysql --datadir=/var/lib/mysql
 1220  mysql_upgrade -u root -p
 1221  kubectl delete pod mysql-1
 1222  clear
 1223  kubectl logs mysql-1 --previous
 1224  kubectl describe pod mysql-1
 1225  kubectl getpod 
 1226  kubectl get pod 
 1227  kubectl logs mysql-1 -c mysql
 1228  CLEAR
 1229  clear
 1230  kubectl get pv
 1231  kubectl delete pv pvc-28785b02-6c1d-4096-a696-d154c6406856
 1232  kubectl get pvc
 1233  kubectl delete pvc data-mysql-0
 1234  kubectl get statefulset
 1235  kubectl delet statefulset mysql
 1236  kubectl delete statefulset mysql
 1237  kubectl get statefulset
 1238  kubectl delete statefulset wordpress-mysql
 1239  kubectl get statefulset
 1240  kubectl get configmap
 1241  kubectl delete configmap mysql 
 1242  kubectl get configmap
 1243  clear
 1244  kubectl get v
 1245  kubectl get pv
 1246  kubectl delete pv pvc-287
 1247  kubectl get pvc
 1248  kubectl delete pvc data-mysql-1
 1249  kubectl delete pvc data-wordpress-mysql-0
 1250  kubectl get pvc
 1251  clear
 1252  kubectl get pv
 1253  kubectl get service
 1254  kubectl delete service mysql
 1255  kubectl delete service mysql-read
 1256  clear
 1257  cd ../no-HA/
 1258  ls
 1259  clear
 1260  kubectl apply -f . 
 1261  kubectl get service
 1262  kubectl get pv
 1263  kubectl get pvc
 1264  cd ..
 1265  ls
 1266  cd wordpress/
 1267  kubectl apply -f . 
 1268  kubectl get pv
 1269  kubectl delete pv wordpress-pv
 1270  kubectl get pvc
 1271  kubectl delete pvc wordpress-pvc 
 1272  kubectl get statefulset
 1273  kubectl get pvc
 1274  kubectl get pv
 1275  kubectl delete pv wordpress-pv
 1276  history 
 1277  kubectl edit pv
 1278  kubectl edit pv wordpress-pv
 1279  kubectl delete pv wordpress-pv
 1280  clear
 1281  kubectl get pv
 1282  kubectl get pvc
 1283  kubectl delete pvc wordpress-pvc
 1284  kubectl edit pvc wordpress-pv
 1285  kubectl edit pvc wordpress-pvc
 1286  kubectl delete pvc wordpress-pvc
 1287  kubectl get pvc
 1288  clear
 1289  kubectl get service
 1290  kubectl delete service wordpress
 1291  kubectl apply -f . 
 1292  kubectl get service
 1293  kubectl get pv
 1294  kubectl get pvc
 1295  kubectl get pods
 1296  kubectl delete pods wordpress-mysql-b8f84b599-tdlzg
 1297  kubectl get pods
 1298  kubectl get pvc
 1299  kubectl describe pod wordpress-mysql-b8f84b599-z8r75
 1300  ping 172.31.29.85
 1301  cd ../
 1302  ls
 1303  cd ..
 1304  ls
 1305  cd NFS-manifests/
 1306  kubectl apply -f . 
 1307  kubectl get pods
 1308  kubectl delete pods wordpress-mysql-b8f84b599-z8r75 
 1309  kubectl get pods
 1310  clear
 1311  kubectl get pods --watch
 1312  clear
 1313  kubectl get pods --watch
 1314  clear
 1315  kubectl get pods --watch
 1316  kubectl get pods -l app=mysql --watch
 1317  clear
 1318  kubectl get pods -l app=mysql --watch
 1319  clear
 1320  microk8s add-node
 1321  clear
 1322  microk8s kubectl get no
 1323  clear
 1324  microk8s kubectl get pvc
 1325  microk8s kubectl get pv
 1326  clear
 1327  microk8s kubectl get pv
 1328  microk8s kubectl get pvc
 1329  microk8s kubectl get pods
 1330  microk8s kubectl get services
 1331  microk8s kubectl get statefulset
 1332  microk8s kubectl get pvc
 1333  microk8s kubectl delete pvc my-pvc
 1334  microk8s kubectl get pvc
 1335  ls
 1336  cd NFS-manifests/
 1337  ls
 1338  microk8s kubectl apply -f pvc-nfs.yaml 
 1339  microk8s kubectl apply -f sc-nfs.yaml 
 1340  microk8s kubectl get pvc
 1341  cd ..
 1342  ls
 1343  cd /srv/
 1344  clear
 1345  cd /mnt/
 1346  ls
 1347  clear
 1348  sudo mount -t nfs 172.31.29.85:/srv/nfs /mnt
 1349  ls
 1350  cd ..
 1351  clear
 1352  cd /home/ubuntu/
 1353  ls
 1354  microk8s kubectl get pvc
 1355  history 
 1356  microk8s kubectl apply -f pvc-nfs.yaml 
 1357  cd NFS-manifests/
 1358  ls
 1359  microk8s kubectl apply -f - < pvc-nfs.yaml
 1360  microk8s kubectl describe pvc my-pvc
 1361  clear
 1362  microk8s kubectl describe pvc my-pvc
 1363  sudo mount -t nfs -o nfsvers=4.1 172.31.28.85:/srv/nfs /mnt
 1364  microk8s kubectl describe pvc my-pvc
 1365  sudo mount -t nfs -o nfsvers=4.1 172.31.29.85:/srv/nfs /mnt
 1366  cler
 1367  clear
 1368  microk8s kubectl describe pvc my-pvc
 1369  cat pvc-nfs.yaml 
 1370  cat sc-nfs.yaml 
 1371  nano sc-nfs.yaml 
 1372  microk8s kubectl apply -f sc-nfs.yaml 
 1373  clear
 1374  cat pvc-nfs.yaml 
 1375  clear
 1376  microk8s kubectl apply -f sc-nfs.yaml 
 1377  clear
 1378  ls
 1379  microk8s kubectl get pvc
 1380  microk8s kubectl get pv
 1381  microk8s kubectl delete pv mysql-pv 
 1382  microk8s kubectl delete pv wordpress-pv 
 1383  microk8s kubectl get pvc
 1384  microk8s kubectl delete pvc my-pvc
 1385  microk8s kubectl get pvc
 1386  microk8s kubectl apply -f pvc-nfs.yaml 
 1387  microk8s kubectl apply -f sc-nfs.yaml 
 1388  sudo nano sc-nfs.yaml 
 1389  microk8s kubectl apply -f sc-nfs.yaml 
 1390  clear
 1391  cat sc-nfs.yaml 
 1392  microk8s kubectl apply -f sc-nfs.yaml 
 1393  microk8s kubectl delete storageclass nfs-csi
 1394  microk8s kubectl apply -f sc-nfs.yaml
 1395  microk8s kubectl apply -f pvc-nfs.yaml 
 1396  clear
 1397  microk8s kubectl describe pvc my-pvc
 1398  microk8s kubectl delete storageclass nfs-csi
 1399  sudo nano sc-nfs.yaml 
 1400  microk8s kubectl describe pvc my-pvc
 1401  clear
 1402  microk8s kubectl apply -f pvc-nfs.yaml 
 1403  microk8s kubectl apply -f sc-nfs.yaml
 1404  microk8s kubectl describe pvc
 1405  microk8s kubectl get pods
 1406  microk8s kubectl get pv
 1407  clear
 1408  microk8s kubectl get pv
 1409  microk8s kubectl get pvc
 1410  microk8s kubectl delete pvc my-pvc 
 1411  microk8s kubectl delete pvc mysql-pvc 
 1412  microk8s kubectl delete pvc wordpress-pvc
 1413  microk8s kubectl edit pvc wordpress-pvc
 1414  microk8s kubectl delete pvc wordpress-pvc
 1415  microk8s kubectl edit pvc mysql-pvc
 1416  microk8s kubectl get pvc
 1417  clear
 1418  microk8s kubectl get pv
 1419  microk8s kubectl get service
 1420  microk8s kubectl delete service mysql 
 1421  microk8s kubectl delete service wordpress 
 1422  microk8s kubectl get pods
 1423  microk8s kubectl delete pods wordpress-b68d69f7d-m78b7 wordpress-b68d69f7d-xp98l wordpress-mysql-b8f84b599-tdcgc 
 1424  clear
 1425  ls
 1426  microk8s kubectl apply -f sc-nfs.yaml
 1427  microk8s kubectl apply -f pvc-nfs.yaml 
 1428  microk8s kubectl get pvc
 1429  microk8s kubectl delete storageclass nfs-csi
 1430  microk8s kubectl apply -f pvc-nfs.yaml 
 1431  microk8s kubectl apply -f sc-nfs.yaml
 1432  microk8s kubectl get pvc
 1433  showmount -e 172.31.29.85
 1434  sudo mount -t nfs -o nfsvers=4.1 172.31.29.85:/srv/nfs /mnt
 1435  ls
 1436  cat pvc-nfs.yaml 
 1437  microk8s kubectl get storageclass
 1438  microk8s enable helm3
 1439  microk8s helm3 repo add csi-driver-nfs https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts
 1440  microk8s helm3 repo update
 1441  microk8s helm3 install csi-driver-nfs csi-driver-nfs/csi-driver-nfs     --namespace kube-system     --set kubeletDir=/var/snap/microk8s/common/var/lib/kubelet
 1442  microk8s kubectl wait pod --selector app.kubernetes.io/name=csi-driver-nfs --for condition=ready --namespace kube-system
 1443  microk8s kubectl get csidrivers
 1444  clear
 1445  ls
 1446  nano sc-nfs.yaml 
 1447  microk8s kubectl apply -f - < sc-nfs.yaml
 1448  microk8s kubectl delete storageclass nfs-csi
 1449  microk8s kubectl apply -f - < sc-nfs.yaml
 1450  microk8s kubectl apply -f - < pvc-nfs.yaml
 1451  microk8s kubectl get pvc
 1452  microk8s kubectl delete pvc my-pvc
 1453  clear
 1454  microk8s kubectl apply -f - < pvc-nfs.yaml
 1455  microk8s kubectl describe pvc my-pvc
 1456  clear
 1457  cd ../k8s-wordpress/
 1458  ls
 1459  clear
 1460  ls
 1461  cd mysql/
 1462  ls
 1463  cd no-HA/
 1464  clear
 1465  cd no-HA/
 1466  ls
 1467  microk8s kubectl apply -f mysql-pv.yaml 
 1468  microk8s kubectl apply -f mysql-pvc.yaml 
 1469  microk8s kubectl get pv
 1470  microk8s kubectl apply -f mysql-service.yaml 
 1471  microk8s kubectl apply -f mysql-deployment.yaml 
 1472  cd ../../wordpress/
 1473  microk8s kubectl get pv
 1474  microk8s kubectl get pvc
 1475  microk8s kubectl apply -f .
 1476  microk8s kubectl get deployment
 1477  microk8s kubectl get pv
 1478  microk8s kubectl get pvc
 1479  microk8s kubectl get pods
 1480  microk8s kubectl delete pods wordpress-b68d69f7d-hptzf
 1481  microk8s kubectl delete pods wordpress-b68d69f7d-w75j9 wordpress-mysql-b8f84b599-jdvvp 
 1482  clear
 1483  microk8s kubectl get pods
 1484  clear
 1485  microk8s kubectl get pods
 1486  microk8s kubectl get pvc
 1487  microk8s kubectl get storageclass
 1488  microk8s kubectl describe nodes
 1489  clear
 1490  microk8s kubectl describe pod wordpress-b68d69f7d-s7mkl
 1491  microk8s kubectl describe pod wordpress-mysql-b8f84b599-cd8xt
 1492  sudo apt-get update
 1493  sudo apt-get install -y nfs-common
 1494  sudo mount -t nfs 172.31.29.85:/srv/nfs /mnt/
 1495  cd /mnt/
 1496  clear
 1497  ls
 1498  cd /home/ubuntu/
 1499  clear
 1500  ls
 1501  cd k8s-wordpress/
 1502  microk8s kubectl delete pod wordpress-b68d69f7d-s7mkl
 1503  microk8s kubectl delete pod wordpress-mysql-b8f84b599-cd8xt
 1504  microk8s kubectl get pods -w
 1505  clear
 1506  history
```